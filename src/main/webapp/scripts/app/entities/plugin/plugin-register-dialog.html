<div>
    <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true" ng-click="clear()">&times;</button>
        <h4 class="modal-title" translate="piaApp.plugin.register.title">Register new plugin</h4>
    </div>
    <div class="modal-body">
        <jh-alert-error></jh-alert-error>


        <div class="panel panel-primary">
            <div class="panel-heading">Paste Code</div>
            <div class="panel-body">
                 <textarea class="form-control" rows="5" id="base64" ng-change="evaluate()" ng-model="base64"></textarea>
            </div>
        </div>

        <div class="panel panel-info" ng-if="application">
            <div class="panel-heading">Plugin: {{application.name}}</div>
            <div class="panel-body">
                <label for="permissions">Requests Permissions:</label>
                <ul id="permissions">
                    <li ng-repeat="permission in application.permissions">
                        {{permission}}
                    </li>
                </ul>
                <label for="url">Url:</label>
                <input type="text" class="form-control" id="url" ng-model="application.url">
                </input>
            </div>
        </div>

        <div class="panel panel-success" ng-if="clientDetails">
            <div class="panel-heading">Plugin: {{application.name}}</div>
            <div class="panel-body">
                <label for="clientId">Client ID:</label>
                <input type="text" class="form-control" id="clientId" ng-model="clientDetails.client_id">
                </input>
                <label for="clientSecret">Client Secret:</label>
                <input type="text" class="form-control" id="clientSecret" ng-model="clientDetails.client_secret">
                </input>
            </div>
        </div>
    </div>

    <div class="modal-footer" ng-if="application && clientDetails == null">
        <div class="ngdialog-buttons">
            <button type="button" class="btn btn-default" data-dismiss="modal" ng-click="clear()">
                <span class="glyphicon glyphicon-ban-circle"></span>&nbsp;<span translate="piaApp.plugin.register.deny">Deny</span>
            </button>
            <button type="submit" class="btn btn-primary" ng-click="grant()">
                <span class="glyphicon glyphicon-ok"></span>&nbsp;<span
                translate="piaApp.plugin.register.grant">Grant</span>
            </button>
        </div>

    </div>


</div>
